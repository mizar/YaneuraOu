# escape=`
FROM mcr.microsoft.com/windows/servercore:1809
WORKDIR C:\
RUN ["powershell", "-ExecutionPolicy", "Bypass", "-EncodedCommand", "JABFAHIAcgBvAHIAQQBjAHQAaQBvAG4AUAByAGUAZgBlAHIAZQBuAGMAZQAgAD0AIAAnAFMAdABvAHAAJwA7AA0ACgAkAFAAcgBvAGcAcgBlAHMAcwBQAHIAZQBmAGUAcgBlAG4AYwBlACAAPQAgACcAUwBpAGwAZQBuAHQAbAB5AEMAbwBuAHQAaQBuAHUAZQAnADsADQAKAFMAZQB0AC0ATABvAGMAYQB0AGkAbwBuACAAQwA6AFwAOwANAAoAWwBOAGUAdAAuAFMAZQByAHYAaQBjAGUAUABvAGkAbgB0AE0AYQBuAGEAZwBlAHIAXQA6ADoAUwBlAGMAdQByAGkAdAB5AFAAcgBvAHQAbwBjAG8AbAAgAD0AIABbAE4AZQB0AC4AUwBlAGMAdQByAGkAdAB5AFAAcgBvAHQAbwBjAG8AbABUAHkAcABlAF0AOgA6AFQAbABzADEAMgA7AA0ACgBJAG4AdgBvAGsAZQAtAFcAZQBiAFIAZQBxAHUAZQBzAHQAIAAnAGgAdAB0AHAAcwA6AC8ALwBnAGkAdABoAHUAYgAuAGMAbwBtAC8AZwBpAHQALQBmAG8AcgAtAHcAaQBuAGQAbwB3AHMALwBnAGkAdAAvAHIAZQBsAGUAYQBzAGUAcwAvAGQAbwB3AG4AbABvAGEAZAAvAHYAMgAuADEAOQAuADEALgB3AGkAbgBkAG8AdwBzAC4AMQAvAEcAaQB0AC0AMgAuADEAOQAuADEALQA2ADQALQBiAGkAdAAuAGUAeABlACcAIAAtAE8AdQB0AEYAaQBsAGUAIABDADoAXABXAGkAbgBkAG8AdwBzAFwAVABlAG0AcABcAEcAaQB0AC0AeAA2ADQALgBlAHgAZQA7AA0ACgBTAHQAYQByAHQALQBQAHIAbwBjAGUAcwBzACAALQBGAGkAbABlAFAAYQB0AGgAIABDADoAXABXAGkAbgBkAG8AdwBzAFwAVABlAG0AcABcAEcAaQB0AC0AeAA2ADQALgBlAHgAZQAgAC0AQQByAGcAdQBtAGUAbgB0AEwAaQBzAHQAIAAvAFYARQBSAFkAUwBJAEwARQBOAFQALAAgAC8ATgBPAFIARQBTAFQAQQBSAFQALAAgAC8ATgBPAEMAQQBOAEMARQBMACwAIAAvAFMAUAAtACAALQBOAG8ATgBlAHcAVwBpAG4AZABvAHcAIAAtAFAAYQBzAHMAVABoAHIAdQAgAC0AVwBhAGkAdAA7AA0ACgBJAG4AdgBvAGsAZQAtAFcAZQBiAFIAZQBxAHUAZQBzAHQAIAAnAGgAdAB0AHAAcwA6AC8ALwB3AHcAdwAuADcALQB6AGkAcAAuAG8AcgBnAC8AYQAvADcAegAxADkAMAAwAC0AeAA2ADQALgBlAHgAZQAnACAALQBPAHUAdABGAGkAbABlACAAQwA6AFwAVwBpAG4AZABvAHcAcwBcAFQAZQBtAHAAXAA3AHoALQB4ADYANAAuAGUAeABlADsADQAKAFMAdABhAHIAdAAtAFAAcgBvAGMAZQBzAHMAIAAtAEYAaQBsAGUAUABhAHQAaAAgAEMAOgBcAFcAaQBuAGQAbwB3AHMAXABUAGUAbQBwAFwANwB6AC0AeAA2ADQALgBlAHgAZQAgAC0AQQByAGcAdQBtAGUAbgB0AEwAaQBzAHQAIAAvAFMAIAAtAE4AbwBOAGUAdwBXAGkAbgBkAG8AdwAgAC0AUABhAHMAcwBUAGgAcgB1ACAALQBXAGEAaQB0ADsADQAKAEkAbgB2AG8AawBlAC0AVwBlAGIAUgBlAHEAdQBlAHMAdAAgACcAaAB0AHQAcABzADoALwAvAGcAaQB0AGgAdQBiAC4AYwBvAG0ALwBBAGQAbwBwAHQATwBwAGUAbgBKAEQASwAvAG8AcABlAG4AagBkAGsAOAAtAGIAaQBuAGEAcgBpAGUAcwAvAHIAZQBsAGUAYQBzAGUAcwAvAGQAbwB3AG4AbABvAGEAZAAvAGoAZABrADgAdQAyADAAMgAtAGIAMAA4AC8ATwBwAGUAbgBKAEQASwA4AFUALQBqAGQAawBfAHgANgA0AF8AdwBpAG4AZABvAHcAcwBfAGgAbwB0AHMAcABvAHQAXwA4AHUAMgAwADIAYgAwADgALgBtAHMAaQAnACAALQBPAHUAdABGAGkAbABlACAAQwA6AFwAVwBpAG4AZABvAHcAcwBcAFQAZQBtAHAAXABPAHAAZQBuAEoARABLADgAVQAtAGoAZABrAF8AeAA2ADQAXwB3AGkAbgBkAG8AdwBzAC4AbQBzAGkAOwANAAoAUwB0AGEAcgB0AC0AUAByAG8AYwBlAHMAcwAgAC0ARgBpAGwAZQBQAGEAdABoACAAQwA6AFwAVwBpAG4AZABvAHcAcwBcAFMAeQBzAHQAZQBtADMAMgBcAG0AcwBpAGUAeABlAGMALgBlAHgAZQAgAC0AQQByAGcAdQBtAGUAbgB0AEwAaQBzAHQAIAAvAGkALAAgAEMAOgBcAFcAaQBuAGQAbwB3AHMAXABUAGUAbQBwAFwATwBwAGUAbgBKAEQASwA4AFUALQBqAGQAawBfAHgANgA0AF8AdwBpAG4AZABvAHcAcwAuAG0AcwBpACwAIAAvAHAAYQBzAHMAaQB2AGUAIAAtAE4AbwBOAGUAdwBXAGkAbgBkAG8AdwAgAC0AUABhAHMAcwBUAGgAcgB1ACAALQBXAGEAaQB0ADsADQAKAEkAbgB2AG8AawBlAC0AVwBlAGIAUgBlAHEAdQBlAHMAdAAgACcAaAB0AHQAcAA6AC8ALwByAGUAcABvAC4AbQBzAHkAcwAyAC4AbwByAGcALwBkAGkAcwB0AHIAaQBiAC8AbQBzAHkAcwAyAC0AeAA4ADYAXwA2ADQALQBsAGEAdABlAHMAdAAuAHQAYQByAC4AeAB6ACcAIAAtAE8AdQB0AEYAaQBsAGUAIABDADoAXABXAGkAbgBkAG8AdwBzAFwAVABlAG0AcABcAG0AcwB5AHMAMgAtAHgAOAA2AF8ANgA0AC0AbABhAHQAZQBzAHQALgB0AGEAcgAuAHgAegA7AA0ACgBTAHQAYQByAHQALQBQAHIAbwBjAGUAcwBzACAALQBOAG8ATgBlAHcAVwBpAG4AZABvAHcAIAAtAFAAYQBzAHMAVABoAHIAdQAgAC0AVwBhAGkAdAAgAC0ARgBpAGwAZQBQAGEAdABoACAAJwBDADoAXABQAHIAbwBnAHIAYQBtACAARgBpAGwAZQBzAFwANwAtAFoAaQBwAFwANwB6AC4AZQB4AGUAJwAgAC0AQQByAGcAdQBtAGUAbgB0AEwAaQBzAHQAIABlACwAIABDADoAXABXAGkAbgBkAG8AdwBzAFwAVABlAG0AcABcAG0AcwB5AHMAMgAtAHgAOAA2AF8ANgA0AC0AbABhAHQAZQBzAHQALgB0AGEAcgAuAHgAegAsACAAJwAtAG8AQwA6AFwAVwBpAG4AZABvAHcAcwBcAFQAZQBtAHAAXAAnADsADQAKAFMAdABhAHIAdAAtAFAAcgBvAGMAZQBzAHMAIAAtAE4AbwBOAGUAdwBXAGkAbgBkAG8AdwAgAC0AUABhAHMAcwBUAGgAcgB1ACAALQBXAGEAaQB0ACAALQBGAGkAbABlAFAAYQB0AGgAIAAnAEMAOgBcAFAAcgBvAGcAcgBhAG0AIABGAGkAbABlAHMAXAA3AC0AWgBpAHAAXAA3AHoALgBlAHgAZQAnACAALQBBAHIAZwB1AG0AZQBuAHQATABpAHMAdAAgAHgALAAgAEMAOgBcAFcAaQBuAGQAbwB3AHMAXABUAGUAbQBwAFwAbQBzAHkAcwAyAC0AeAA4ADYAXwA2ADQALQBsAGEAdABlAHMAdAAuAHQAYQByACwAIAAnAC0AbwBDADoAXAAnADsADQAKAEkAbgB2AG8AawBlAC0AVwBlAGIAUgBlAHEAdQBlAHMAdAAgACcAaAB0AHQAcABzADoALwAvAGQAbAAuAGcAbwBvAGcAbABlAC4AYwBvAG0ALwBhAG4AZAByAG8AaQBkAC8AcgBlAHAAbwBzAGkAdABvAHIAeQAvAHMAZABrAC0AdABvAG8AbABzAC0AdwBpAG4AZABvAHcAcwAtADQAMwAzADMANwA5ADYALgB6AGkAcAAnACAALQBPAHUAdABGAGkAbABlACAAQwA6AFwAVwBpAG4AZABvAHcAcwBcAFQAZQBtAHAAXABzAGQAawAtAHQAbwBvAGwAcwAtAHcAaQBuAGQAbwB3AHMALgB6AGkAcAA7AA0ACgBFAHgAcABhAG4AZAAtAEEAcgBjAGgAaQB2AGUAIAAtAFAAYQB0AGgAIABDADoAXABXAGkAbgBkAG8AdwBzAFwAVABlAG0AcABcAHMAZABrAC0AdABvAG8AbABzAC0AdwBpAG4AZABvAHcAcwAuAHoAaQBwACAALQBEAGUAcwB0AGkAbgBhAHQAaQBvAG4AUABhAHQAaAAgAEMAOgBcAEEAbgBkAHIAbwBpAGQAXABhAG4AZAByAG8AaQBkAC0AcwBkAGsAOwANAAoAUgBlAG0AbwB2AGUALQBJAHQAZQBtACAAQAAoACcAQwA6AFwAVwBpAG4AZABvAHcAcwBcAFQAZQBtAHAAXAAqACcALAAgACcAQwA6AFwAVQBzAGUAcgBzAFwAKgBcAEEAcABwAGQAYQB0AGEAXABMAG8AYwBhAGwAXABUAGUAbQBwAFwAKgAnACkAIAAtAEYAbwByAGMAZQAgAC0AUgBlAGMAdQByAHMAZQA7AA0ACgBbAEUAbgB2AGkAcgBvAG4AbQBlAG4AdABdADoAOgBTAGUAdABFAG4AdgBpAHIAbwBuAG0AZQBuAHQAVgBhAHIAaQBhAGIAbABlACgAJwBKAEEAVgBBAF8ASABPAE0ARQAnACwAIAAnAEMAOgBcAFAAcgBvAGcAcgBhAG0AIABGAGkAbABlAHMAXABBAGQAbwBwAHQATwBwAGUAbgBKAEQASwBcAGoAZABrAC0AOAAuADAALgAyADAAMgAuADAAOAAnACwAIABbAEUAbgB2AGkAcgBvAG4AbQBlAG4AdABWAGEAcgBpAGEAYgBsAGUAVABhAHIAZwBlAHQAXQA6ADoATQBhAGMAaABpAG4AZQApADsADQAKACQAZQBuAHYAOgBQAEEAVABIACAAKwA9ACAAJwA7AEMAOgBcAFAAcgBvAGcAcgBhAG0AIABGAGkAbABlAHMAXABHAGkAdABcAGMAbQBkADsAQwA6AFwAbQBzAHkAcwA2ADQAOwBDADoAXABBAG4AZAByAG8AaQBkAFwAYQBuAGQAcgBvAGkAZAAtAHMAZABrAFwAbgBkAGsALQBiAHUAbgBkAGwAZQAnADsADQAKAFsARQBuAHYAaQByAG8AbgBtAGUAbgB0AF0AOgA6AFMAZQB0AEUAbgB2AGkAcgBvAG4AbQBlAG4AdABWAGEAcgBpAGEAYgBsAGUAKAAnAFAAQQBUAEgAJwAsACAAJABlAG4AdgA6AFAAQQBUAEgALAAgAFsARQBuAHYAaQByAG8AbgBtAGUAbgB0AFYAYQByAGkAYQBiAGwAZQBUAGEAcgBnAGUAdABdADoAOgBNAGEAYwBoAGkAbgBlACkAOwA="]
RUN ["C:\\msys64\\msys2_shell.cmd", "-msys2", "-defterm", "-no-start", "-lc", "exit"]
RUN `
C:\msys64\usr\bin\bash.exe -lc 'pacman --needed --noconfirm --noprogressbar -Syuu'; `
C:\msys64\usr\bin\bash.exe -lc 'pacman --needed --noconfirm --noprogressbar -Syu'; `
C:\msys64\usr\bin\bash.exe -lc 'pacman --needed --noconfirm --noprogressbar -Su'; `
C:\msys64\usr\bin\bash.exe -lc 'pacman --noconfirm -Scc';
RUN `
C:\msys64\usr\bin\bash.exe -lc 'pacboy --needed --noconfirm --noprogressbar -S toolchain:m clang:m openblas:m automake: autoconf: make: intltool: libtool: zip: unzip:'; `
C:\msys64\usr\bin\bash.exe -lc 'pacman --noconfirm -Scc';
RUN ["C:\\msys64\\usr\\bin\\bash.exe", "-lc 'yes | /C/Android/android-sdk/tools/bin/sdkmanager.bat ndk-bundle'"]
RUN git.exe clone https://github.com/mizar/YaneuraOu.git
WORKDIR C:\YaneuraOu\
